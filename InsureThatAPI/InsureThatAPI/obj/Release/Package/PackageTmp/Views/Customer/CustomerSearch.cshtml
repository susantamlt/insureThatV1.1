@model InsureThatAPI.Models.CustomerSearch
@{
    Layout = null;
}

<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="SemiColonWeb" />

    <!-- Stylesheets
    ============================================= -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700|Raleway:300,400,500,600,700" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="~/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="~/css/layout.css" type="text/css" />
    <link rel="stylesheet" href="~/css/content.css" type="text/css" />
    <link rel="stylesheet" href="~/css/form.css" type="text/css" />

    <link rel="stylesheet" href="~/css/font-icons.css" type="text/css" />
    <link rel="stylesheet" href="~/css/animate.css" type="text/css" />
    <link rel="stylesheet" href="~/css/magnific-popup.css" type="text/css" />

    <link rel="stylesheet" href="~/css/responsive.css" type="text/css" />
    <link rel="stylesheet" href="~/css/insuredthatsolution.css" type="text/css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lt IE 9]>
        <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
    <!-- Document Title
    ============================================= -->
    <title>Insure that</title>

    <style>
        .device-lg #slider .emphasis-title h1 {
            font-size: 52px;
        }

        .device-md #slider .emphasis-title h1 {
            font-size: 44px;
        }

        .error {
            color: #FF0000;
        }

        #wrapper {
            background: url(../images/yellow-overlay.png) no-repeat right top;
        }
    </style>

</head>

<body class="stretched">
    <!-- Document Wrapper -->
    <div id="wrapper" class="clearfix">
        <!-- Header -->
        <header id="header" class="full-header transparent-header">
            <div id="header-wrap">
                <div class="container clearfix">
                    <div id="primary-menu-trigger"><i class="icon-reorder"></i></div>
                    <!-- Logo -->
                    <div id="logo">
                        <a href="#" class="standard-logo" data-dark-logo="~/images/logo-dark.png"><img src="~/images/logo.png" alt="Canvas Logo"></a>
                        <a href="#" class="retina-logo" data-dark-logo="~/images/logo-dark@2x.png"><img src="~/images/logo@2x.png" alt="Canvas Logo"></a>
                    </div><!-- #logo end -->
                    <!-- Primary Navigation -->
                    <nav id="primary-menu">
                        <button class="logoutfun btn color-bk-btn col-md-4 leftmargin-sm" type="button">Logout</button>
                    </nav><!-- #primary-menu end -->
                </div>
            </div>
        </header><!-- #header end -->
        <!-- Content -->
        <section id="content">
            <div class="content-wrap mt-100 mb-100">
                <div class="container clearfix">
                    <div class="col-md-9">
                        <div class="col-md-9 col-sm-6 col-xs-12"><h3 class="header-title">CUSTOMER SEARCH</h3></div>
                        <div class="col-md-3 col-sm-6 col-xs-12"><a href="@Url.Action("AdvancedCustomerSearch", "Customer")" class="btn-primary btn" style="padding:5px;">ADVANCED SEARCH</a></div>
                        <div class="col-md-12 mt-50 mb-50">
                            <ul id="errormessages" style="list-style: none;" class="col-md-12">
                                @if (ViewBag.Status != null)
                                {
                                    <li style="color:#FF0000;">Email Address does not exist</li>
                                }
                            </ul>
                            @using (Ajax.BeginForm("CustomerSearch", "Customer", null, new AjaxOptions() { HttpMethod = "POST" }, new { @name = "customerSearch", @id = "customerSearch" }))
                            {
                                @Html.AntiForgeryToken()
                                <div class="col-md-3 col-sm-3 col-xs-12" style="font-size:14px;">Email Address</div>
                                <div class="col-md-9 col-sm-9 col-xs-12">
                                    @Html.TextBoxFor(model => model.emailId, new { @class = "form-control form-border-bottom", @id = "email" })
                                    <br />
                                    <p class="mini-text">* To proceed, please provide customer Email Address</p>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-2 pull-right">
                                    <button type="submit" class="form-control form-border-bottom btn search-btn" id="customersearch" value="SEARCH">Search</button>
                                </div>
                            }
                        </div>
                        <div class="col-md-12 mb-50">
                            @using (Html.BeginForm("NewPolicy", "Customer", FormMethod.Get, new { enctype = "multipart/form-data" }))
                            {
                                @Html.AntiForgeryToken()
                                <div class="col-md-3 pull-right">
                                    <button type="submit" class="form-control form-border-bottom btn NewInsured-btn" role="button">New Customer</button>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </section><!-- #content end -->
        <!-- Footer -->
        <footer id="footer">
            <!-- Copyrights -->
            <div id="copyrights">
                <div class="container-fluid clearfix">
                    <div class="col_half">
                        <div class="copyright-links"><a href="#">Terms of Use</a> / <a href="#">Privacy Policy</a></div>
                    </div>
                    <div class="col_half col_last tright">
                        <div class="fright clearfix">
                            <a href="#" class="social-icon si-small si-borderless si-facebook">
                                <i class="icon-facebook"></i>
                                <i class="icon-facebook"></i>
                            </a>

                            <a href="#" class="social-icon si-small si-borderless si-twitter">
                                <i class="icon-twitter"></i>
                                <i class="icon-twitter"></i>
                            </a>
                            <a href="#" class="social-icon si-small si-borderless si-linkedin">
                                <i class="icon-linkedin"></i>
                                <i class="icon-linkedin"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div><!-- #copyrights end -->
        </footer><!-- #footer end -->
    </div><!-- #wrapper end -->
    <!-- Go To Top -->
    <div id="gotoTop" class="icon-angle-up"></div>
    <!-- External JavaScripts -->
    <script type="text/javascript" src="~/js/jquery.js"></script>
    <script type="text/javascript" src="~/js/plugins.js"></script>

    <script type="text/javascript" src="~/js/functions.js"></script>
    <script type="text/javascript" src="~/Scripts/jquery.validate.js"></script>
    <script type="text/javascript" src="~/Scripts/additional-methods.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $.validator.addMethod("regex", function (value, element, regexp) {
                if (regexp.constructor != RegExp)
                    regexp = new RegExp(regexp);
                else if (regexp.global)
                    regexp.lastIndex = 0;
                return this.optional(element) || regexp.test(value);
            }, "Please check your input.");
            $("form[name='customerSearch']").validate({
                errorContainer: "#errormessages",
                errorLabelContainer: "#errormessages",
                errorElement: "li",
                rules: {
                    "emailId": {
                        required: true,
                        regex: /^([\w-\.]+@@([\w-]+\.)+[\w-]{2,4})?$/,

                    },
                },
                messages: {
                    "emailId": {
                        required: "Please enter Email Address",
                        regex: "Please enter valid Email Address",
                    },
                },
                onfocusout: function (element) {
                    this.element(element);
                },
                submitHandler: function (form) {
                    form.submit();
                }
            });
        });
        $(document).ready(function () {
            $("#errormessages").delay(10000).fadeOut();
        });
        $(document).ready(function () {
            $(".logoutfun").click(function () {
                $.ajax({
                    type: "POST",
                    url: "/Customer/Logout",
                    data: {},
                    success: function (responce) {
                        window.location.href = responce;
                    }
                });
            });
        });
    </script>
    <script type="text/javascript" src="~/js/jquery.backDetect.js"></script>
    <script type="text/javascript">
        $(window).load(function () {
            $('body').backDetect(function () {
                //if (confirm('Look forward to the future, not the past!')) {
                history.pushState(null, null, null);
                $.ajax({
                    type: "POST",
                    url: "/Customer/Logout",
                    data: {},
                    success: function (responce) {
                        window.location.href = responce;
                    }
                });
                //} else {
                //    history.pushState(null, null, null);
                //}
            });
        });
    </script>



</body>
</html>