@model InsureThatAPI.Models.Pets
@{
    ViewBag.Title = "Pets Cover";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 policy-indiv-head">
    <h4><span>RURAL LIFESTYLE POLICY</span> / PETS</h4>
</div>
<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 endorsmentview">
    <div class="col-lg-7 col-md-7 col-sm-7 col-xs-12 policy-full-head">
        <h2>PETS</h2>
    </div>
    <div class="col-md-5 col-sm-5 col-xs-12 pull-right">
        <div class="pull-right">
            <button type="button" href="#savepolicy" role="button" data-target="#savepolicy" data-toggle="modal" class="button-3d nomargin tab-linker" id="savepolicyP" style="width:auto;border:none;background-color:#000000;color:#FFFFFF;margin-top:10px;line-height:22px;">Save Policy</button>
            <button type="button" href="#referralListModel" role="button" data-target="#referralListModel" data-toggle="modal" class="button-3d nomargin tab-linker" id="referralList" style="width:auto;border:none;background-color:#000000;color:#FFFFFF;margin-top:10px;line-height:22px;">Referral List</button>
            <button type="button" href="#premiumModel" role="button" data-target="#premiumModel" data-toggle="modal" class="button-3d nomargin tab-linker" id="premium" style="width:auto;border:none;background-color:#000000;color:#FFFFFF;margin-top:10px;line-height:22px;">Premium</button>
        </div>
    </div>
    <div id="savepolicy" class="modal" data-easein="fadeIn" tabindex="-1" role="dialog" aria-labelledby="savepolicy" aria-hidden="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="padding: 15px 26px 0px;">
                    <h3 class="pull-left">Save Policy</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <img src="~/images/close-icon.png" />
                    </button>
                </div>
                <div class="modal-body">
                    <p>Do you wish to save and exit.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default no-border" data-dismiss="modal" aria-hidden="true"> Back </button>
                    <button class="btn btn-default no-border savepolicyP" data-dismiss="modal" aria-hidden="true"> Save </button>
                </div>
            </div>
        </div>
    </div>
    <div id="referralListModel" class="modal" data-easein="fadeIn" tabindex="-1" role="dialog" aria-labelledby="referralListModel" aria-hidden="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="pull-left">Referral List</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <img src="~/images/close-icon.png" />
                    </button>
                </div>
                <div class="modal-body">
                    @if (Model.Referels != null && Model.Referels.Count() > 0)
                    {
                        for (int j = 0; j < Model.Referels.Count(); j++)
                        {
                            @Model.Referels[j]<br />
                        }
                    }
                    else
                    {
                        <p>No Referral List</p>
                    }
                    <p id="referralList-p"></p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default no-border" data-dismiss="modal" aria-hidden="true"> Back </button>
                </div>
            </div>
        </div>
    </div>
    <div id="premiumModel" class="modal" data-easein="fadeIn" tabindex="-1" role="dialog" aria-labelledby="premiumModel" aria-hidden="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="padding: 15px 26px 0px;">
                    <h3 class="pull-left">Premium Details</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <img src="~/images/close-icon.png" />
                    </button>
                </div>
                <div class="modal-body">
                    <table class="table" style=" width: 100%; ">
                        <thead>
                            <tr>
                                <th class="space_left">Section Name</th>
                                <th class="space_left">Base</th>
                                <th class="space_left">FSL</th>
                                <th class="space_left">GST</th>
                                <th class="space_left">Stamp Duty</th>
                                <th class="space_right">Gross</th>
                            </tr>
                        </thead>
                        <tbody id="premiumModel-p-b">
                            <tr>
                                <td colspan="6">No Premium Details</td>
                            </tr>
                        </tbody>
                        <tfoot id="premiumModel-p-f">
                            <tr>
                                <td colspan="6">No Premium Details</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default no-border" data-dismiss="modal" aria-hidden="true"> Back </button>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 success" id="savepolicyresult"></div>
    <div id="errorContainer"></div>
    @using (Ajax.BeginForm("PetsCover", "Pets", new { cid = @ViewBag.cid }, new AjaxOptions()
    {
        HttpMethod = "POST"

    }, new { @id = "petsCover", @name = "petsCover" }))
    {
        @Html.AntiForgeryToken()
        <div class="error"></div>
        <div class="form">
            @Html.HiddenFor(p => p.CustomerId, new { @id = "ciid" })
            @Html.HiddenFor(p => p.PcId, new { id = "pcidd" })
            <div class="mt-10 mb-10 col-md-12">
                <p><a href="#PetsModal3" role="button" data-target="#PetsModal3" data-toggle="modal">click here to see the information about Pets</a></p>
            </div>
            <div id="PetsModal3" class="modal" data-easein="fadeIn" tabindex="-1" role="dialog" aria-labelledby="PetsModal3" aria-hidden="false">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="pull-left">Pets</h3>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                <img src="~/images/close-icon.png" />
                            </button>
                        </div>
                        <div class="modal-body">
                            <p>Illness and Injury</p>
                            <p>We cover the Veterinarian costs if Your Pet suffers an Illness or Injury that We cover during the period of insurance but after the Waiting Period that applies.</p>
                            <p>We will pay 100% of approved Veterinarian costs up to an annual limit of $12,500.</p>
                            <p>As long as You renew Your policy each year, We keep covering Your Pet for an Illness or Injury that continues into the next period of insurance.</p>
                            <p>Essential Euthanasia</p>
                            <p>We cover the reasonable Veterinarian costs incurred by You, to euthanase Your Pet, provided:</p>
                            <ul style="list-style:none;">
                                <li>(1) That it occurs during the period of insurance, and</li>
                                <li>(2) It was deemed a humane and essential course of action by the Veterinarian.</li>
                            </ul>
                            <p>We will pay 100% of approved Veterinarian costs up to an annual limit of $12,500</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default no-border" data-dismiss="modal" aria-hidden="true"> Back </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12  cl-61331">
                <p class="col-md-5 col-sm-5 col-xs-12">Do you wish to insure a :</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    @Html.DropDownListFor(model => model.SpeciesObj.Species, @Model.SpeciesObj.SpeciesList, "-- Select --", new { @class = "form-control form-border-bottom select2hd vlidationInsure commondataselection", @data_eiid = @Model.SpeciesObj.EiId, @id = "species", @name = "SpeciesObj.Species" })
                    @Html.HiddenFor(p => p.SpeciesObj.EiId)
                    <label id="SpeciesObj.Species-error" class="error" for="SpeciesObj.Species"></label>
                </div>
            </div>
            <script type="text/javascript">
                $(document).ready(function () {
                    $("#species").change(function () {
                        var value = $(this).val();
                        if (value != "") {
                            var text = $(this).find("option:selected").text();
                            $.ajax({
                                url: '/pets/petscoverajax',
                                type: 'POST',
                                data: { "Species": text, "SpeciesV": value },
                                success: function (response) {
                                    var html = '';
                                    if (response.status == true) {
                                        $.each(response.result, function (i, v) {
                                            html += '<option value="' + v.Value + '">' + v.Text + '</option>';
                                        });
                                        $("#breed").html(html);
                                        $("#dogbreed").show();
                                        $("#other").hide();
                                    } else {
                                        html = '<option value="">-- Select --</option>';
                                        $("#breed").html(html);
                                    }
                                }
                            });
                        } else {
                            $("#dogbreed").hide();
                            $("#other").hide();
                        }
                    });
                });
            </script>
            <div class="mt-10 mb-10 col-md-12 cl-61333" id="dogbreed" @if (@Model.SpeciesObj.Species == "") { <text> style="display: none;" </text> }>
                <p class="col-md-5 col-sm-5 col-xs-12">Please select the breed :</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    @Html.DropDownListFor(Model => Model.BreedObj.Breed, @Model.BreedObj.BreedList, new { @class = "form-control form-border-bottom select2hd vlidationInsure commondataselection", @data_eiid = @Model.BreedObj.EiId, @id = "breed" })
                    <p class="mini-text">(In the case of a cross breed, please select the dominant breed)</p>
                    @Html.HiddenFor(p => p.BreedObj.EiId)
                    <label id="BreedObj.Breed-error" class="error" for="BreedObj.Breed"></label>
                </div>
                <script type="text/javascript">
                    $(document).ready(function () {
                        $("#dogbreed select").change(function () {
                            var value = this.value;
                            if (value == "301") {
                                $("#other").show();
                            } else {
                                $("#other").hide();
                            }
                        });
                    });
                </script>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61337" id="other" @if (@Model.BreedObj.Breed != "301") { <text> style="display: none;" </text> }>
                <p class="col-md-5 col-sm-5 col-xs-12">Name of breed :</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    @Html.TextBoxFor(p => p.OtherbreedObj.Otherbreed, new { @class = "form-control form-border-bottom vlidationInsure commondatatest", @data_eiid = @Model.OtherbreedObj.EiId, @id = "otherbreed", @data_regex = "A" })
                    <label id="OtherbreedObj.Otherbreed-error" class="error" for="OtherbreedObj.Otherbreed"></label>
                    @Html.HiddenFor(p => p.OtherbreedObj.EiId)
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61339">
                <p class="col-md-5 col-sm-5 col-xs-12">What is the name of your pet?</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    @Html.TextBoxFor(p => p.NameObj.Name, new { @class = "form-control form-border-bottom vlidationInsure commondatatest", @data_eiid = @Model.NameObj.EiId, @id = "name", @data_regex = "A" })
                    @Html.HiddenFor(p => p.NameObj.EiId)
                    <label id="NameObj.Name-error" class="error" for="NameObj.Name"></label>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12  cl-61339">
                <p class="col-md-5 col-sm-5 col-xs-12">What is your pet's date of birth?<br><span class="mini-text">(We will cover your animals up untill the age of 9 years)</span></p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    @Html.TextBoxFor(p => p.DatebirthObj.Datebirth, new { @class = "form-control form-border-bottom datePicker vlidationInsure commondataDDMMYYY", @data_eiid = @Model.DatebirthObj.EiId, @id = "dateofbirth", @data_inputmask_alias = "date", @data_inputmask_inputformat = "dd/mm/yyyy" })
                    @Html.HiddenFor(p => p.DatebirthObj.EiId)
                    <label id="DatebirthObj.Datebirth-error" class="error" for="DatebirthObj.Datebirth"></label>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61343">
                <p class="col-md-5 col-sm-5 col-xs-12">Does your pet have any pre-existing illness?</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    <span class="checkboxes">
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.PreexistingObj.Preexisting, '0', new { @class = "preexisting vlidationInsure commondataradio", @data_eiid = @Model.PreexistingObj.EiId })
                            <label for="radio1"><span><span></span></span>No</label>
                        </span>
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.PreexistingObj.Preexisting, '1', new { @class = "preexisting vlidationInsure commondataradio", @data_eiid = @Model.PreexistingObj.EiId })
                            <label for="radio1"><span><span></span></span>Yes</label>
                        </span>
                    </span>
                    @Html.HiddenFor(p => p.PreexistingObj.EiId)
                    <label id="PreexistingObj.Preexisting-error" class="error" for="PreexistingObj.Preexisting"></label>
                </div>
                <script type="text/javascript">
                    $(document).ready(function () {
                        $('.preexisting').click(function () {
                            var val = $(this).val();
                            if ($(this).val() == '1') {
                                $('#desIllness').show();
                                $('#descriptionillness').show();
                            } else {
                                $('#desIllness').hide();
                                $('#descriptionillness').val("");
                            }
                        });
                    });
                </script>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61345" id="desIllness" @if (@Model.PreexistingObj.Preexisting != "1") { <text> style="display: none;" </text> }>
                <p class="col-md-5 col-sm-5 col-xs-12">If yes ,  please describe the illness</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    @Html.TextBoxFor(p => p.DescriptionillnessObj.Descriptionillness, new { @class = "form-control form-border-bottom vlidationInsure commondatatest", @data_eiid = @Model.DescriptionillnessObj.EiId, @id = "descriptionillness", @data_regex = "A" })
                    @Html.HiddenFor(p => p.DescriptionillnessObj.EiId)
                    <label id="DescriptionillnessObj.Descriptionillness-error" class="error" for="DescriptionillnessObj.Descriptionillness"></label>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61347" id="acLimit">
                <p class="col-md-5 col-sm-5 col-xs-12">An annual cover limit</p>
                <div class="col-md-7 col-sm-7 col-xs-12">
                    $@Html.TextBoxFor(p => p.AnnualcoverlimitObj.Annualcoverlimit, new { @style = "display:inline-block;width:95%;", @class = "form-control form-border-bottom vlidationInsure commondatatestComma commondatatestPrice", @data_eiid = @Model.AnnualcoverlimitObj.EiId, @id = "annualcoverlimit", @data_regex = "N" })
                    @Html.HiddenFor(p => p.AnnualcoverlimitObj.EiId)
                    <label id="AnnualcoverlimitObj.Annualcoverlimit-error" class="error" for="AnnualcoverlimitObj.Annualcoverlimit"></label>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61349">
                <p class="col-md-5 col-sm-5 col-xs-12">Please select <a href="#ExcesshomeBuildingModel" role="button" data-target="#ExcesshomeBuildingModel" data-toggle="modal">Excess</a></p>
                <div class="col-md-4 col-sm-4 col-xs-12">
                    @Html.DropDownListFor(model => model.ExcessPetObj.Excess, @Model.ExcessPetObj.ExcessList, new { @class = "gray-bg-underline form-control form-border-bottom field-length-sm vlidationInsure commondataselection", @data_eiid = @Model.ExcessPetObj.EiId, @id = "excess" })
                    @Html.HiddenFor(p => p.ExcessPetObj.EiId)
                    <label id="ExcessPetObj.Excess-error" class="error" for="ExcessPetObj.Excess"></label>
                </div>
            </div>
            <div id="ExcesshomeBuildingModel" class="modal" data-easein="fadeIn" tabindex="-1" role="dialog" aria-labelledby="ExcesshomeBuildingModel" aria-hidden="false">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="pull-left">Excess</h3>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                <img src="~/images/close-icon.png" />
                            </button>
                        </div>
                        <div class="modal-body">
                            <p>When you make a claim, you pay the first part of the cost and we pay the rest. Your part is called the <b>excess</b>.  You can reduce the cost of your insurance by choosing a higher excess.</p>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-default no-border" data-dismiss="modal" aria-hidden="true"> Back </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12">
                <h3>Would you like to include following</h3>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61365">
                <p class="col-md-3 col-sm-3 col-xs-12">Boarding fees :</p>
                <div class="col-md-3 col-sm-3 col-xs-12">
                    <span class="checkboxes">
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.BoardingfeeObj.Boardingfee, '0', new { @class = "boardingfee vlidationInsure commondataradio", @data_eiid = @Model.BoardingfeeObj.EiId })
                            <label for="radio1"><span><span></span></span>No</label>
                        </span>
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.BoardingfeeObj.Boardingfee, '1', new { @class = "boardingfee vlidationInsure commondataradio", @data_eiid = @Model.BoardingfeeObj.EiId })
                            <label for="radio1"><span><span></span></span>Yes</label>
                        </span>
                    </span>
                    @Html.HiddenFor(p => p.BoardingfeeObj.EiId)
                    <label id="BoardingfeeObj.Boardingfee-error" class="error" for="BoardingfeeObj.Boardingfee"></label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('.boardingfee').click(function () {
                                var val = $(this).val();
                                if ($(this).val() == '1') {
                                    $('#aLimitbf').show();
                                    $('#annuallimitbf').show();
                                } else {
                                    $('#aLimitbf').hide();
                                    $('#annuallimitbf').val("");
                                }
                            });
                        });
                    </script>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-12 mini-text cl-61367" id="aLimitbf" @if (@Model.BoardingfeeObj.Boardingfee == "0" || @Model.BoardingfeeObj.Boardingfee == "" || @Model.BoardingfeeObj.Boardingfee == null) { <text> style="display: none;" </text> }>
                    $@Html.TextBoxFor(p => p.AnnuallimitbfObj.Annuallimitbf, new { @class = "form-control form-border-bottom col-md-6 col-sm-6 col-xs-12 mini-text vlidationInsure commondatatestComma commondatatestPrice", @data_eiid = @Model.AnnuallimitbfObj.EiId, @id = "annuallimitbf", @style = "width: 50%;margin-right:5px;", @data_regex = "N" }) (Annual limit : The lessor of $1,000 or 200 days)
                    @Html.HiddenFor(p => p.AnnuallimitbfObj.EiId)
                    <label id="AnnuallimitbfObj.Annuallimitbf-error" class="error" for="AnnuallimitbfObj.Annuallimitbf"></label>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61369">
                <p class="col-md-3 col-sm-3 col-xs-12">Death from illness :</p>
                <div class="col-md-3 col-sm-3 col-xs-12">
                    <span class="checkboxes">
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.DeathillnessObj.Deathillness, '0', new { @class = "deathillness vlidationInsure commondataradio", @data_eiid = @Model.DeathillnessObj.EiId })
                            <label for="radio1"><span><span></span></span>No</label>
                        </span>
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.DeathillnessObj.Deathillness, '1', new { @class = "deathillness vlidationInsure commondataradio", @data_eiid = @Model.DeathillnessObj.EiId })
                            <label for="radio1"><span><span></span></span>Yes</label>
                        </span>
                    </span>
                    @Html.HiddenFor(p => p.DeathillnessObj.EiId)
                    <label id="DeathillnessObj.Deathillness-error" class="error" for="DeathillnessObj.Deathillness"></label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('.deathillness').click(function () {
                                var val = $(this).val();
                                if ($(this).val() == '1') {
                                    $('#aLimitdt').show();
                                    $('#annuallimit').show();
                                } else {
                                    $('#aLimitdt').hide();
                                    $('#annuallimit').val("");
                                }
                            });
                        });
                    </script>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-12 mini-text cl-61371" id="aLimitdt" @if (@Model.DeathillnessObj.Deathillness == "0" || @Model.DeathillnessObj.Deathillness == null || @Model.DeathillnessObj.Deathillness == "" ) { <text> style="display: none;" </text> }>
                    $@Html.TextBoxFor(p => p.AnnuallimitdtObj.Annuallimit, new { @class = "form-control form-border-bottom col-md-6 col-sm-6 col-xs-12 mini-text vlidationInsure commondatatestComma commondatatestPrice", @data_eiid = @Model.AnnuallimitdtObj.EiId, @id = "annuallimit", @style = "width: 50%;margin-right:5px;", @data_regex = "N" }) (Annual limit : $1500)
                    @Html.HiddenFor(p => p.AnnuallimitdtObj.EiId)
                    <label id="AnnuallimitdtObj.Annuallimit-error" class="error" for="AnnuallimitdtObj.Annuallimit"></label>
                </div>
            </div>
            <div class="mt-10 mb-10 col-md-12 cl-61373">
                <p class="col-md-3 col-sm-3 col-xs-12">Death from injury :</p>
                <div class="col-md-3 col-sm-3 col-xs-12">
                    <span class="checkboxes">
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.DeathinjuryObj.Deathinjury, '0', new { @class = "deathinjury vlidationInsure commondataradio", @data_eiid = @Model.DeathinjuryObj.EiId })
                            <label for="radio1"><span><span></span></span>No</label>
                        </span>
                        <span class="policy-loc-row">
                            @Html.RadioButtonFor(m => m.DeathinjuryObj.Deathinjury, '1', new { @class = "deathinjury vlidationInsure commondataradio", @data_eiid = @Model.DeathinjuryObj.EiId })
                            <label for="radio1"><span><span></span></span>Yes</label>
                        </span>
                    </span>
                    @Html.HiddenFor(p => p.DeathinjuryObj.EiId)
                    <label id="DeathinjuryObj.Deathinjury-error" class="error" for="DeathinjuryObj.Deathinjury"></label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('.deathinjury').click(function () {
                                var val = $(this).val();
                                if ($(this).val() == '1') {
                                    $('#aLimitij').show();
                                    $('#annuallimitij').show();
                                } else {
                                    $('#aLimitij').hide();
                                    $('#annuallimitij').val("");
                                }
                            });
                        });
                    </script>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-12 mini-text cl-61375" id="aLimitij" @if (@Model.DeathinjuryObj.Deathinjury == "0" || @Model.DeathinjuryObj.Deathinjury == "" || @Model.DeathinjuryObj.Deathinjury == null) { <text> style="display: none;" </text> }>
                    $@Html.TextBoxFor(p => p.AnnuallimitijObj.Annuallimitij, new { @class = "form-control form-border-bottom col-md-6 col-sm-6 col-xs-12 mini-text vlidationInsure commondatatestComma commondatatestPrice", @data_eiid = @Model.AnnuallimitijObj.EiId, @id = "annuallimitij", @style = "width: 50%;margin-right:5px;", @data_regex = "N" }) (Annual limit : $1500)
                    @Html.HiddenFor(p => p.AnnuallimitijObj.EiId)
                    <label id="AnnuallimitijObj.Annuallimitij-error" class="error" for="AnnuallimitijObj.Annuallimitij"></label>
                </div>
            </div>
        </div>
        <div class="col-md-6 pull-right text-right">
            <button type="submit" class="button-3d nomargin tab-linker quot-next-btn" id="ptabbtnFHC">Save & Continue</button>
        </div>
    }
</div>
<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 policy-side-wrap">
    <h3>Policy Sections</h3>
    <div class="well">
        <h3 style="font-size: 11px;margin-bottom: 2px;">Edit or delete previous sections here</h3>
        @if (Model.PolicyInclusion != null && Model.PolicyInclusion.Count() > 0)
        {
            for (int i = 0; i < Model.PolicyInclusion.Count(); i++)
            {
                <div class="policy-loc-row">
                    @Html.RadioButtonFor(m => m.SelectedInclusion, @Model.PolicyInclusion[i].Name, new { @class = "inclusions", @data_name = @Model.PolicyInclusion[i].Name, @data_nid = @i })<label for="radio1"><span><span></span></span>@Model.PolicyInclusion[i].Name</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('.inclusions').click(function () {
                                var name = $(this).attr('data-name');
                                var nid = $(this).attr('data-nid');
                                $('.policy-ed-del-wrapper').hide();
                                $("#policy-ed-del-wrap-" + nid).show();

                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap-@i" class="policy-ed-del-wrapper" data style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" data-pcid="@Model.PcId" data-policystatus="@Model.PolicyStatus" data-name="@Model.PolicyInclusion[i].Name" data-cid="@Model.CustomerId" data-unid="@Model.PolicyInclusion[i].UnId" data-profileid="@Model.PolicyInclusion[i].ProfileUnId" href="javascript:void(0);">Edit</a>&nbsp;
                        <a class="btn color-bk-btn policy-delet-wrap" data-pcid="@Model.PcId" data-policystatus="@Model.PolicyStatus" data-name="@Model.PolicyInclusion[i].Name" data-cid="@Model.CustomerId" data-unid="@Model.PolicyInclusion[i].UnId" data-profileid="@Model.PolicyInclusion[i].ProfileUnId" href="javascript:void(0);">Delete</a>
                    </div>
                </div>
            }
            <script>
                $(".policy-edit-wrap").click(function () {
                    var selectedname = $(this).data('name');
                    var selectedunid = $(this).data('unid');
                    var selectedprofileid = $(this).data('profileid');
                    var selectedcid = $(this).data('cid');
                    var selectedTrId = $(this).data('trid');
                    var PcId = $(this).data('pcid');
                    var policyStatus = $(this).data('policystatus');
                    // var prId = $(this).data('prId');
                    var prId = 1029;
                    $.ajax({
                        type: "POST",
                        url: "/Customer/EndorsePolicy",
                        data: {
                            "name": selectedname, "PcId": PcId, "cid": selectedcid, "trId": selectedTrId, "unid": selectedunid, "Profileid": selectedprofileid, "prId": prId, "policyStatus": policyStatus, "effcdate": null
                        },
                        success: function (responce) {
                            window.location.href = responce;
                        }
                    });
                });
                $(".policy-delet-wrap").click(function () {
                    var r = confirm("Are you sure you want to delete this section?");
                    if (r == true) {
                        var PcId = $("#pcidd").val();
                        var selectedunid = $(this).data('unid');
                        var selectedcid = $(this).data('cid');
                        var PcId = $(this).data('pcid');
                        var selectedname = $(this).data('name');
                        var selectedprofileid = $(this).data('profileid');
                        var selectedTrId = $(this).data('trid');
                        var policyStatus = $(this).data('policystatus');
                        var currId = $(this).attr("id");
                        $.ajax({
                            type: "POST",
                            url: "/Customer/DeleteUnit",
                            data: { "unid": selectedunid, "cid": selectedcid, "pcid": PcId, "unit": selectedname, "profileid": selectedprofileid, "trid": selectedTrId, "policystatus": policyStatus },
                            success: function (responce) {
                                if (responce.Status == true) {
                                    var prentId = $('#' + currId).parent().parent().attr("id");
                                    $('#' + prentId).remove();
                                }
                            }
                        });
                    }
                });
                $("#bindcover").click(function () {
                    $.ajax({
                        type: "POST",
                        url: "/Customer/BindCover",
                        data: {},
                        success: function (responce) {
                        }
                    });
                });
            </script>
        }
        else
        {
            if (Model.PolicyInclusions != null && Model.PolicyInclusions.Count() > 0)
            {
                for (int i = 0; i < Model.PolicyInclusions.Count(); i++)
                {
                    <div class="policy-loc-row">
                        @Html.RadioButtonFor(m => m.SelectedInclusion, @i, new { @class = "inclusions", @data_name = @i, @data_nid = @i, @title = "Home Building should be filled first." })<label for="radio1"><span><span></span></span>@Model.PolicyInclusions[i].name</label>
                        <script type="text/javascript">
                            $(document).ready(function () {
                                $('.inclusions').click(function () {
                                    var name = $(this).attr('data-name');
                                    var nid = $(this).attr('data-nid');
                                    $('.policy-ed-del-wrapper').hide();
                                    $("#policy-ed-del-wrap-" + nid).show();

                                });
                            });
                        </script>
                        <div id="policy-ed-del-wrap-@i" class="policy-ed-del-wrapper" data style="display: none;">
                            <a class="btn color-bk-btn policy-edit-wrap" data-pcid="@Model.PcId"  data-policystatus="@Model.PolicyStatus" data-name="@Model.PolicyInclusions[i].name" data-cid="@Model.CustomerId" data-unid="@Model.PolicyInclusions[i].UnitId" data-profileid="@Model.PolicyInclusions[i].ProfileId" href="javascript:void(0);">Edit</a>&nbsp;
                            <a class="btn color-bk-btn policy-delet-wrap" data-pcid="@Model.PcId" data-policystatus="@Model.PolicyStatus" data-name="@Model.PolicyInclusions[i].name" data-cid="@Model.CustomerId" data-unid="@Model.PolicyInclusions[i].UnitId" data-profileid="@Model.PolicyInclusions[i].ProfileId" href="javascript:void(0);">Delete</a>
                        </div>
                    </div>
                    <script>
                        $(".policy-edit-wrap").click(function () {
                            var selectedname = $(this).data('name');
                            var selectedunid = $(this).data('unid');
                            var selectedprofileid = $(this).data('profileid');
                            var selectedcid = $(this).data('cid');
                            var selectedTrId = $(this).data('trid');
                            var PcId = $(this).data('pcid');
                            var policyStatus = $(this).data('policystatus');
                            // var prId = $(this).data('prId');
                            var prId = 1029;
                            $.ajax({
                                type: "POST",
                                url: "/Customer/EndorsePolicy",
                                data: {
                                    "name": selectedname, "PcId": PcId, "cid": selectedcid, "trId": selectedTrId, "unid": selectedunid, "Profileid": selectedprofileid, "prId": prId, "policyStatus": policyStatus, "calltype": 1, "effcdate": null
                                },
                                success: function (responce) {
                                    window.location.href = responce;
                                }
                            });
                        });
                        $(".policy-delet-wrap").click(function () {
                            var r = confirm("Are you sure you want to delete this section?");
                            if (r == true) {
                                var PcId = $("#pcidd").val();
                                var selectedunid = $(this).data('unid');
                                var selectedcid = $(this).data('cid');
                                var PcId = $(this).data('pcid');
                                var selectedname = $(this).data('name');
                                var selectedprofileid = $(this).data('profileid');
                                var selectedTrId = $(this).data('trid');
                                var policyStatus = $(this).data('policystatus');
                                var currId = $(this).attr("id");
                                $.ajax({
                                    type: "POST",
                                    url: "/Customer/DeleteUnit",
                                    data: { "unid": selectedunid, "cid": selectedcid, "pcid": PcId, "unit": selectedname, "profileid": selectedprofileid, "trid": selectedTrId, "policystatus": policyStatus },
                                    success: function (responce) {
                                        if (responce.Status == true) {
                                            var prentId = $('#' + currId).parent().parent().attr("id");
                                            $('#' + prentId).remove();
                                        }
                                    }
                                });
                            }
                        });
                    </script>
                }
            }

        }
        <div class="clearfix"></div>
        <div class="dropdown pc pc-in">
            <a class="new-cover-policy" href="javascript:void(0);">New Section</a>
            <ul class="dropdown-menu col-md-12 unit">
                <li><a href="javascript:void(0);" class="Home Buildings">+  Home Building</a></li>
                <li><a href="javascript:void(0);" class="Home Contents">+  Home Content</a></li>
                <li><a href="javascript:void(0);" class="Farm Property">+  Farm Property</a></li>
                <li><a href="javascript:void(0);" class="Valuables">+  Valuables</a></li>
                <li><a href="javascript:void(0);" class="Motor">+  Motor</a></li>
                <li><a href="javascript:void(0);" class="Pet">+  Pets</a></li>
            
                <li><a href="javascript:void(0);" class="Travel">+  Travel</a></li>
                <li><a href="javascript:void(0);" class="Boat">+  Boat</a></li>
            </ul>
            <script type="text/javascript">
                        $(document).on('click', 'ul.unit > li', function () {
                            var unitname = $(this).children("a").attr("class");
                            var cid = $("#ciid").val();
                            var pcid = $("#pcidd").val();
                            var prid = 1029;
                            $.ajax({
                                type: "POST",
                                url: "/Customer/AddUnit",
                                data: { "unit": unitname, cid: cid, PcId: pcid, Prid: prid },
                                success: function (responce) {
                                    if (responce.Status == false) {
                                        $(".error").css("color", "red").html("Failed to add section, there is a problem in core system.").show().delay(100000).fadeOut();
                                        $("html, body").animate({ scrollTop: 0 }, "slow");
                                    } else {
                                        window.location.href = responce;
                                    }
                                }
                            });
                        });
            </script>
        </div>
    </div>
</div>
<script src="~/js/jquery.inputmask.bundle.js"></script>
<script src="~/js/inputmask.date.extensions.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $(".datePicker").inputmask("99/99/9999", { "placeholder": "dd/mm/yyyy" });
        var Preexisting = $("input[name='PreexistingObj.Preexisting']:checked").val();
        if (Preexisting == '' || Preexisting == '0') {
            $('#desIllness').css({ 'display': 'none' });
        }
        var Boardingfee = $("input[name='BoardingfeeObj.Boardingfee']:checked").val();
        if (Boardingfee == '' || Boardingfee == '0') {
            $('#aLimitbf').css({ 'display': 'none' });
        }
        var Deathillness = $("input[name='DeathillnessObj.Deathillness']:checked").val();
        if (Deathillness == '' || Deathillness == '0') {
            $('#annuallimit').css({ 'display': 'none' });
        }
        var Deathinjury = $("input[name='DeathinjuryObj.Deathinjury']:checked").val();
        if (Deathinjury == '' || Deathinjury == '0') {
            $('#annuallimitij').css({ 'display': 'none' });
        }
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        var currentYearNew = new Date().getFullYear();
        $("#ptabbtnFHC").click(function (e) {
            e.preventDefault();
            var valid = 1;
            $("#petsCover .vlidationInsure").each(function () {
                var id = $(this).attr('id');
                var nameAttr = $(this).attr('name');
                var lastChar = id.substr(id.length - 1);
                var newval = $(this).val();
                var valueNew = $(this).val();
                var Value = $(this).val();
                if (nameAttr== "SpeciesObj.Species") {
                    if (Value=='') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select wish to insure').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "BreedObj.Breed") {
                    if (Value == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select breed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "OtherbreedObj.Otherbreed") {
                    var regex = /^[a-zA-Z0-9 ]*$/;
                    if ($("#breed").val() == "301" && Value == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter other breed').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(Value)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Special character are not allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "NameObj.Name") {
                    var regex = /^[a-zA-Z0-9 ]*$/;
                    if (Value == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter name').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(Value)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Special character are not allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "DatebirthObj.Datebirth") {
                    var regex = /^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])[\/]\d{4}$/;
                    var rVal = valueNew.split('/');
                    var uptoYears = 0;
                    var diffDateCalculatePets = true;
                    if (regex.test(Value)) {
                        uptoYears = CalculateDiff(Value);
                        var newDatePets = rVal[1] + '/' + rVal[0] + '/' + rVal[2];
                        diffDateCalculatePets = diffDateCalculateER(newDatePets);
                    }
                    if (Value=='') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter date of birth').css({ "display": "block" });
                        valid = 0;
                    } else if (newval != '' && !regex.test(newval)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Date is not proper. Please check').css({ "display": "block" });
                        valid = 0;
                    } else if (rVal[2] != '' && rVal[2].length != 4) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Date is not proper. Please check').css({ "display": "block" });
                        valid = 0;
                    } else if (diffDateCalculatePets == false) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('You can not provide future year').css({ "display": "block" });
                        valid = 0;
                    } else if (uptoYears > 9) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('We will cover your animals up untill the age of 9 years').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text('').css({ "display": "none" });
                    }
                }
                if (nameAttr == "PreexistingObj.Preexisting") {
                    if ($("input[name='" + nameAttr + "']:checked").val() == undefined) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select pre-existing').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "DescriptionillnessObj.Descriptionillness") {
                    var regex = /^[a-zA-Z0-9 ]*$/;
                    if ($("input[name='PreexistingObj.Preexisting']:checked").val() == "1" && newval=="") {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter description of illness').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(newval)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Special character are not allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "AnnualcoverlimitObj.Annualcoverlimit") {
                    var regex = /^[0-9]*$/;
                    var newValHc = valueNew.replace(/,/g, '');
                    if (newValHc == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter annual cover limit').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(newValHc)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Only numeric & "," are allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "ExcesstcObj.Excess") {
                    if ($("input[name='PreexistingObj.Preexisting']:checked").val() == "1" && $("#annualcoverlimit").val() == "" && newval == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select excess').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "BoardingfeeObj.Boardingfee") {
                    if ($("input[name='" + nameAttr + "']:checked").val() == undefined) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select boarding fees').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "AnnuallimitbfObj.Annuallimitbf") {
                    var regex = /^[0-9]*$/;
                    var newValHc = newval.replace(/,/g, '');
                    if ($("input[name='BoardingfeeObj.Boardingfee']:checked").val() =="1" && newValHc == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter annualcover limit for boarding fees').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(newValHc)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Only numeric & "," are allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "DeathillnessObj.Deathillness") {
                    if ($("input[name='" + nameAttr + "']:checked").val() == undefined) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select death from illness').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "AnnuallimitdtObj.Annuallimit") {
                    var regex = /^[0-9]*$/;
                    var newValHc = newval.replace(/,/g, '');
                    if ($("input[name='DeathillnessObj.Deathillness']:checked").val() == "1" && newValHc == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter annual limit for death from illness').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(newValHc)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Only numeric & "," are allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "DeathinjuryObj.Deathinjury") {
                    if ($("input[name='" + nameAttr + "']:checked").val() == undefined) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please select death from injury').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
                if (nameAttr == "AnnuallimitijObj.Annuallimitij") {
                    var regex = /^[0-9]*$/;
                    var newValHc = newval.replace(/,/g, '');
                    if ($("input[name='DeathinjuryObj.Deathinjury']:checked").val() == "1" && newValHc == '') {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Please enter annual limit for death from injury').css({ "display": "block" });
                        valid = 0;
                    } else if (!regex.test(newValHc)) {
                        $('#' + id).css({ "border": "1px solid #ff0000" });
                        $("#petsCover label[for='" + nameAttr + "']").text('Only numeric & "," are allowed').css({ "display": "block" });
                        valid = 0;
                    } else {
                        $('#' + id).css({ "border": "" });
                        $("#petsCover label[for='" + nameAttr + "']").text("");
                    }
                }
            });
            if (valid == 1) {
                $("form[name='petsCover']").submit();
            }
        });
    });
    $(document).on('focusout', ".commondatatest", function () {
        var Value = $(this).val();
        var EIId = $(this).data('eiid');
        var ItIdN = $(this).data('itid');
        var Nregex = $(this).data('regex');
        var name = $(this).attr('name');
        var id = $(this).attr('id');
        var regex = "";
        var text = "";
        if (Nregex == 'N') {
            regex = /^[0-9]*$/;
            text = "Only numeric are allowed";
        } else if (Nregex == 'A') {
            regex = /^[a-zA-Z ]*$/;
            text = "Special character & numeric are not allowed";
        } else if (Nregex == 'AN') {
            regex = /^[a-zA-Z0-9 ]*$/;
            text = "Special character are not allowed";
        } else if (Nregex == 'AS') {
            regex = /^[a-zA-Z/ ]*$/;
            text = "Numeric are not allowed";
        } else if (Nregex == 'NS') {
            regex = /^[0-9/ ]*$/;
            text = "Numeric and '/' are allowed";
        }
        if (ItIdN == undefined || ItIdN == "") {
            var ItId = "0";
        } else {
            var ItId = ItIdN;
        }
        if (!regex.test(Value)) {
            $('#' + id).css({ "border": "1px solid #ff0000" });
            $("label[for='" + name + "']").text(text).css({ "display": "block" });
        } else if (Value != "") {
            $('#' + id).css({ "border": "" });
            $("label[for='" + name + "']").text('').css({ "display": "none" });
            elementAjaxCall(Value, EIId, ItId);
        }
    });
    function elementAjaxCall(Value, EIId, ItId) {
        if (Value != '' && EIId != '') {
            $.ajax({
                url: '/Customer/ElementDetails',
                type: "POST",
                crossOrigin: true,
                data: { "PrId": "1029", "ElId": EIId, "Value": Value, "ItId": ItId },
                success: function (data) {
                    if (!$.isEmptyObject(data.valuedata) && data.valuedata.length > 0) {
                        var valuedata = data.valuedata;
                        if (valuedata != '' && valuedata != null) {
                            $.each(valuedata, function (index, value) {
                                var StateIdNewOne = $("[data-eiid=" + value.Element.ElId + "]").attr('id');
                                //$('#' + StateIdNewOne).val(value.Value);
                                if (!$.isEmptyObject(data.stateData) && data.stateData.length > 0) {
                                    var statedata = data.stateData;
                                    if (statedata != '' && statedata != null) {
                                        $.each(statedata, function (index1, value1) {
                                            var StateIdNew = $("[data-eiid=" + value1.Element.ElId + "]").attr('id');
                                            if (value1.Value == 'Invisible') {
                                                $('#' + StateIdNew).removeAttr('readonly');
                                                $('#' + StateIdNew).removeAttr('disabled');
                                                $('#' + StateIdNew).css({ 'text-decoration': '' });
                                                $('.cl-' + value1.Element.ElId).css({ 'display': 'none' });
                                                $('#' + StateIdNew).removeAttr('required', 'required');
                                            } else if (value1.Value == 'Disabled') {
                                                $('#' + StateIdNew).attr('disabled', 'disabled');
                                                $('#' + StateIdNew).removeAttr('readonly');
                                                $('#' + StateIdNew).css({ 'text-decoration': '' });
                                                $('.cl-' + value1.Element.ElId).css({ 'display': 'none' });
                                                $('#' + StateIdNew).removeAttr('required', 'required');
                                            } else if (value1.Value == 'Read Only') {
                                                $('#' + StateIdNew).attr('readonly', 'readonly');
                                                $('#' + StateIdNew).removeAttr('disabled');
                                                $('#' + StateIdNew).css({ 'text-decoration': '' });
                                                $('.cl-' + value1.Element.ElId).css({ 'display': 'block' });
                                                $('#' + StateIdNew).removeAttr('required', 'required');
                                            } else if (value1.Value == 'Strike Through') {
                                                $('#' + StateIdNew).css({ 'text-decoration': 'line-through' });
                                                $('#' + StateIdNew).removeAttr('readonly');
                                                $('#' + StateIdNew).removeAttr('disabled');
                                                $('.cl-' + value1.Element.ElId).css({ 'display': 'block' });
                                                $('#' + StateIdNew).removeAttr('required', 'required');
                                            } else if (value1.Value == 'Required') {
                                                $('#' + StateIdNew).css({ 'text-decoration': '' });
                                                $('#' + StateIdNew).removeAttr('readonly');
                                                $('#' + StateIdNew).removeAttr('disabled');
                                                $('.cl-' + value1.Element.ElId).css({ 'display': 'block' });
                                                $('#' + StateIdNew).attr('required', 'required');
                                            } else if (value1.Value == '"Not Rendered') {
                                                $('#' + StateIdNew).css({ 'text-decoration': '' });
                                                $('#' + StateIdNew).removeAttr('readonly');
                                                $('#' + StateIdNew).removeAttr('disabled');
                                                $('.cl-' + value1.Element.ElId).css({ 'display': 'block' });
                                                $('#' + StateIdNew).removeAttr('required', 'required');
                                            }

                                        });
                                    }
                                }
                            });
                        }
                    }
                    //if (data.referrallist != null || data.referrallist != "") {
                    //    $('#referralList-p').html('No Referral List');
                    //} else {
                    //    $('#referralList-p').html(data.referrallist);
                    //}
                    if (data.referrallists == "") {
                        $('#referralList-p').html('No Referral List');
                    } else {
                        $('#referralList-p').html(data.referrallists);
                    }
                    if (data.usermessage == "") {
                        var newIDforCurrentElement = $("[data-eiid=" + EIId + "]").attr('id');
                        var newIDforCurrentElementTypes = $("[data-eiid=" + EIId + "]").attr('type');
                        if (newIDforCurrentElementTypes == 'radio') {
                            var labelid = $('#' + newIDforCurrentElement).parent().parent().siblings('.error').attr("for");
                        } else if (newIDforCurrentElementTypes == 'checkbox') {
                            var labelid = $('#' + newIDforCurrentElement).parent().parent().siblings('.error').attr("for");
                        } else {
                            var labelid = $('#' + newIDforCurrentElement).siblings('.error').attr("for");
                        }
                        $("label[for='" + labelid + "']").html('');
                        $("label[for='" + labelid + "']").css({ "display": "none" });
                    } else {
                        var newIDforCurrentElement = $("[data-eiid=" + EIId + "]").attr('id');
                        var newIDforCurrentElementTypes = $("[data-eiid=" + EIId + "]").attr('type');
                        if (newIDforCurrentElementTypes == 'radio') {
                            var labelid = $('#' + newIDforCurrentElement).parent().parent().siblings('.error').attr("for");
                        } else if (newIDforCurrentElementTypes == 'checkbox') {
                            var labelid = $('#' + newIDforCurrentElement).parent().parent().siblings('.error').attr("for");
                        } else {
                            var labelid = $('#' + newIDforCurrentElement).siblings('.error').attr("for");
                        }
                        $("label[for='" + labelid + "']").html(data.usermessage);
                        $("label[for='" + labelid + "']").css({ "display": "block" });
                    }
                }
            });
        }
    }
    $(document).on('click', '.savepolicyP', function () {
        $.ajax({
            type: "POST",
            url: "/Customer/SavePolicy",
            data: { "PrId": 1029 },
            success: function (res) {
                if (res.status == true) {
                    var html = '<div class="alert alert-success"><strong>' + res.result + '</strong></div>';
                    $('#savepolicyresult').html(html);
                } else {
                    var html = '<div class="alert alert-danger"><strong>' + res.result + '</strong></div>';
                    $('#savepolicyresult').html('');
                }
            }
        });
    });
</script>