@model InsureThatAPI.Models.HB2InterestedParties
@{
    ViewBag.Title = "Home Building Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var urlIdSuccess = new string[] { };
    var urlId_Success = Session["completionTrack"].ToString();
    if (urlId_Success != null)
    {
        urlIdSuccess = urlId_Success.Split('-');
    }
    var policyinclusions = new string[] { };
    var policyinclusion = Model.PolicyInclusions;
    if (policyinclusion != null)
    {
        if (policyinclusion.Length > 1)
        {
            policyinclusions = policyinclusion.Split('-');
        }
        else
        {
            policyinclusions = policyinclusion.Split(' ');
        }
    }
}
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 policy-indiv-head">
    <h4><span>RURAL LIFESTYLE POLICY</span> / HOME BUILDING</h4>
</div>
<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 endorsmentview">
    <div class="mt-40 mb-40 row"></div>
    <div id="processTabs">
        <ul class="process-steps clearfix col-sm-12">
            <li>
                <a href="@Url.Action("HomeDescription", "RuralLifeStyle",new {cid=@Model.CustomerId, PcId = @Model.PolicyId })" @if(urlIdSuccess!= null && urlIdSuccess.Length > 0 && urlIdSuccess[0] == "1"){ <text>class = "success"</text>}>Home Description</a>
            </li>
            <li>
                <a href="@Url.Action("ConstructionDetails", "RuralLifeStyle",new {cid=@Model.CustomerId , PcId = @Model.PolicyId})" @if(urlIdSuccess!= null && urlIdSuccess.Length > 0 && urlIdSuccess[1] == "1"){ <text>class = "success"</text>}>Construction Details</a>
            </li>
            <li>
                <a href="@Url.Action("OccupancyDetails", "RuralLifeStyle",new {cid=@Model.CustomerId , PcId = @Model.PolicyId})" @if(urlIdSuccess!= null && urlIdSuccess.Length > 0 && urlIdSuccess[2] == "1"){ <text>class = "success"</text>}>Occupancy Details</a>
            </li>
            <li>
                <a href="javascript:void(0)" class="active">Interested Parties</a>
            </li>
            <li>
                <a href="@Url.Action("HomeBuilding", "RuralLifeStyle",new {cid=@Model.CustomerId , PcId = @Model.PolicyId})" @if(urlIdSuccess!= null && urlIdSuccess.Length > 0 && urlIdSuccess[4] == "1"){ <text>class = "success"</text>}>Home Building</a>
            </li>
        </ul>
        <div id="homeBuildContain">
            <div id="errorContainer"></div>            
            @using (Ajax.BeginForm("InterestedParties", "RuralLifeStyle", new { cid = @ViewBag.cid, PcId = @Model.PolicyId }, new AjaxOptions()
            {
                HttpMethod = "POST"
            },new { @id= "interestedParties",@name= "interestedParties" }))
            {
                @Html.AntiForgeryToken()
                <div id="ptab5">
                    @Html.HiddenFor(p => p.CustomerId)
                    @Html.HiddenFor(p => p.CompletionTrack, new { @id = "completiontrack" })
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 policy-full-head"><h2>INTERESTED PARTIES</h2></div>
                    <div class="mt-10 mb-10 col-md-12">
                        <p class="col-md-4 col-sm-4 col-xs-12"> Name of Institutions <a href="#costumModal1" role="button" data-target="#costumModal1" data-toggle="modal"><img src="~/images/help-icon.png" /></a></p>
                        <div id="costumModal1" class="modal" data-easein="fadeIn" tabindex="-1" role="dialog" aria-labelledby="costumModalLabel" aria-hidden="false">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                            <img src="~/images/close-icon.png" />
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <p>
                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                        </p>
                                        <p> Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button class="btn btn-default no-border" data-dismiss="modal" aria-hidden="true"> Back </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.TextBoxFor(p => p.CoverhomebuildingObj.Coverhomebuilding, new { @class = "form-control form-border-bottom", @id = "coverhomebuilding" })
                            @Html.HiddenFor(p => p.CoverhomebuildingObj.EiId)
                        </div>
                    </div>
                    <div class="mt-10 mb-10 col-md-12">
                        <p class="col-md-4 col-sm-4 col-xs-12">Location of Institution <a href="#costumModal1" role="button" data-target="#costumModal1" data-toggle="modal"><img src="~/images/help-icon.png" /></a></p>
                        <div class="col-md-8 col-sm-8 col-xs-12">
                            @Html.TextBoxFor(p => p.LocationObj.Location, new { @class = "form-control form-border-bottom", @id = "location" })
                            @Html.HiddenFor(p => p.LocationObj.EiId)
                        </div>
                    </div>
                    <div class="col-md-6 pull-right text-right mt-30">
                        <a href="@Url.Action("OccupancyDetails", "RuralLifeStyle")" class="button-3d nomargin tab-linker quot-prev-btn" rel="2">Prev</a>
                        <img src="~/images/button-devider.png">
                        <button type="submit" class="button-3d nomargin tab-linker quot-next-btn">Next</button>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 policy-side-wrap">
    <h3>Policy Sections</h3>
    <div class="well">
        @if (policyinclusions != null && policyinclusion != null && policyinclusion.Length > 0)
        {
            //for (int i = 0; i < policyinclusion.Length; i++)
            //{
            if (policyinclusions[0] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location1" />
                    <label for="radio1"><span><span></span></span>Home Building</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location1').click(function () {
                                $("#policy-ed-del-wrap1").fadeIn('slow');
                                $("#policy-ed-del-wrap1").delay(2000).fadeOut(1000);
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap1" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("HomeDescription", "RuralLifeStyle", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[1] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location2" />
                    <label for="radio1"><span><span></span></span>Home Contents</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location2').click(function () {
                                $("#policy-ed-del-wrap2").fadeIn('slow');
                                $("#policy-ed-del-wrap2").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap2" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("HomeContent", "HomeContentValuable", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[2] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location3" />
                    <label for="radio1"><span><span></span></span>Travels</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location3').click(function () {
                                $("#policy-ed-del-wrap3").fadeIn('slow');
                                $("#policy-ed-del-wrap3").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap3" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("TravelCover", "Travel", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[3] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location4" />
                    <label for="radio1"><span><span></span></span>Valuables</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location4').click(function () {
                                $("#policy-ed-del-wrap4").fadeIn('slow');
                                $("#policy-ed-del-wrap4").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap4" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("Valuables", "HomeContentValuable", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[4] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location5" />
                    <label for="radio1"><span><span></span></span>Farm Property</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location5').click(function () {
                                $("#policy-ed-del-wrap5").fadeIn('slow');
                                $("#policy-ed-del-wrap5").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap5" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("FarmContents", "Farm", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[5] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location6" />
                    <label for="radio1"><span><span></span></span>Liability</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location6').click(function () {
                                $("#policy-ed-del-wrap6").fadeIn('slow');
                                $("#policy-ed-del-wrap6").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap6" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("LiabilityCover", "Liabilities", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[6] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location7" />
                    <label for="radio1"><span><span></span></span>Boat</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location7').click(function () {
                                $("#policy-ed-del-wrap7").fadeIn('slow');
                                $("#policy-ed-del-wrap7").delay(2000).fadeOut();
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap7" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("BoatDetails", "Boat", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[7] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location8" />
                    <label for="radio1"><span><span></span></span>Motor</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location8').click(function () {
                                $("#policy-ed-del-wrap8").fadeIn('slow');
                                $("#policy-ed-del-wrap8").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap8" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("VehicleDescription", "MotorCover", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
            if (policyinclusions[8] == "1")
            {
                <div class="policy-loc-row">
                    <input type="radio" name="radio1" id="location9" />
                    <label for="radio1"><span><span></span></span>Pet</label>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $('#location9').click(function () {
                                $("#policy-ed-del-wrap9").fadeIn('slow');
                                $("#policy-ed-del-wrap9").delay(2000).fadeOut('slow');
                            });
                        });
                    </script>
                    <div id="policy-ed-del-wrap9" class="policy-ed-del-wrapper" style="display: none;">
                        <a class="btn color-bk-btn policy-edit-wrap" href="@Url.Action("PetsCover", "Pets", new { cid = @ViewBag.cid, PcId = @Model.PolicyId })">Edit</a>&nbsp; <a class="btn color-bk-btn policy-delet-wrap" href="#">Delete</a>
                    </div>
                </div>
            }
        }

        <div class="clearfix"></div>
        <input type="submit" name="newcover" value="New Cover">
    </div>
</div>
<script type="text/javascript" src="~/Scripts/jquery.validate.js"></script>
<script type="text/javascript" src="~/Scripts/additional-methods.js"></script>
@*<script type="text/javascript">
    $(document).ready(function () {
        $.validator.addMethod("regex", function (value, element, regexp) {
            if (regexp.constructor != RegExp)
                regexp = new RegExp(regexp);
            else if (regexp.global)
                regexp.lastIndex = 0;
            return this.optional(element) || regexp.test(value);
        }, "Please check your input.");
        $("form[name='interestedParties']").validate({
            errorContainer: "#errorContainer",
            errorLabelContainer: "#errorContainer",
            errorElement: "li",
            rules: {
                "CoverhomebuildingObj.Coverhomebuilding": {
                    required: true,
                    regex: /^[a-zA-Z ]*$/,
                },
                "LocationObj.Location": {
                    required: true,
                    regex: /^[a-zA-Z ]*$/,
                },
            },
            messages: {
                "CoverhomebuildingObj.Coverhomebuilding": {
                    required: "Please enter cover home building",
                    regex: "Special character not allowed"
                },
                "LocationObj.Location": {
                    required: "Please enter location",
                    regex: "Special character not allowed"
                },
            },
            onfocusout: function (element) {
                this.element(element);
            },
            submitHandler: function (form) {
                form.submit();
            }
        });
    });
</script>*@